input â† "$ cd /
$ ls
dir a
14848514 b.txt
8504156 c.dat
dir d
$ cd a
$ ls
dir e
29116 f
2557 g
62596 h.lst
$ cd e
$ ls
584 i
$ cd ..
$ cd ..
$ cd d
$ ls
4060174 j
8033020 d.log
5626152 d.ext
7214296 k"

Extract â† {(>âŸœÂ«0â‰¤ğ•©)/0(0âŠ¸â‰¤Ã—Ã—âŸœ10âŠ¸+)`ğ•©}âˆ˜-âŸœ'0'
Split â† ((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢)

â€¢Show lines â† (@+10) Split input
IsFile â† {((@+58)>ğ•©) âˆ§ ((@+48)<ğ•©)}(((0âŠ‘âŠ¢)(0âŠ‘âŠ¢))Â¨(' ') Split Â¨âŠ¢)
IsCommand â† {ğ•©â‰¡"$ ls"}Â¨âŠ¢
IsCd â† ("cd"â‰¡(1âŠ‘âŠ¢))Â¨(' ') SplitÂ¨âŠ¢
CdOut â† âˆ¾('.'=1â†‘âŒ½)Â¨
CdIn â† IsCd-CdOut
IsHugeFile â† {â€¢BQNâˆ˜âŠ‘ Â¨ (' ') Split Â¨ IsFileâŠ¸/ ğ•©}
HugeFile â† {(IsHugeFile ğ•©)âŠ¸âˆ§âŒ¾((IsFile ğ•©)âŠ¸/) (IsFile ğ•©)}
Dirs â† {("."â‰¢âŠ¢)âˆ˜(â‹ˆâŠ‘âˆ˜âŒ½)Â¨ğ•©}âŠ¸/IsCdâŠ¸/
Stencil â† {Â¯2â†‘Â¨(2â‰¤â‰ )Â¨âŠ¸/â†‘ğ•©}

â€¢Show IsFile lines
â€¢Show HugeFile lines
â€¢Show depth â† +`{(CdIn ğ•©) - (CdOut ğ•©)} lines
â€¢Show +`IsCd lines
â€¢Show +`CdIn lines
â€¢Show +`CdOut lines
â€¢Show âˆ¾dir â† 5â†“Â¨{(ğ•©-1)âŠ‘(Dirs lines) }Â¨(+`CdIn lines)
â€¢Show Dirs lines

â€¢Show shallowSum â† âŒ½+Â´Â¨(dir) âŠâŠ¸âŠ” (HugeFile lines)
â€¢Show traversalPath â† âŒ½(âŒˆÂ´)Â¨â·Â¨(dir) âŠâŠ¸âŠ” (depth)

DeepSum â† {
  my â† ğ•©âŠ‘shallowSum
  tail â† ğ•©â†“(1 â· ((ğ•©âŠ‘traversalPath)>traversalPath))
  trgIdx â† âŠ‘âŠâŸœ1 (0Â¨â†•ğ•©) âˆ¾ tail
  myÃ—((0Â¨â†•ğ•©) âˆ¾ tail)
}

â€¢Show deepSums â† shallowSum +Â´DeepSum Â¨â†•â‰ shallowSum
â€¢Show +Â´(100000>Â¨deepSums)âŠ¸/(deepSums)